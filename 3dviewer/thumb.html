<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>3d Viewer</title>
  <script type="text/javascript" src="three.min.js"></script>
  <script type="text/javascript" src="idai-3dviewer.min.js"></script>
</head>

<body style="margin: 0; font-family: 'Courier New', Courier, monospace;">

    <div style="position: absolute; top: 10px; left: 10px; background-color: rgba(100,100,100,0.7); border-radius: 8px;">
        <a href="" id="fullscreen-link" style="text-decoration: none;" target="_parent">
            <img src="full.png" alt="Show model in fullscreen window" style="margin-bottom: -3px; height: 50px;">
        </a>
    </div>

    <!-- three.js container -->
    <div id="3d-container"></div>
    <div id="loader" style="position: absolute; top: 50%; left: 50%; margin:-40px 0 0 -40px;">
        <div id="progress" style="position: bottom; text-align: center"></div>
    </div>
    <!-- info on screen display (is expected by viewer code but hidden in thumb view) -->
    <div id="info" style="text-align:center; visibility: hidden;">
        <div class="top" id="title"></div>
        <div class="topLeft" id="data"></div>
        <div class="topRight" id="gui"></div>
        <div class="bottomRight" id="help"></div>
    </div>  

    <script type="application/javascript">

        const params = new URLSearchParams(window.location.search);
        const modelId = params.get("modelId");
        const backendUri = params.get("backendUri") || "https://arachne.dainst.org/data";

        document.getElementById("fullscreen-link").setAttribute("href", "/3d?id=" + modelId);

        _3dviewer({backendUri, modelId});
    </script>
</body>
</html>
